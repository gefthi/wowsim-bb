name: "Destruction - Default"
description: |
  Baseline rotation without Mystic Enchants. Maintains Immolate,
  dumps Conflagrate/Chaos Bolt on cooldown, and taps for mana when needed.
variables:
  life_tap_threshold: 0.30
  life_tap_buff_refresh: 5.0
rotation:
  - action: cast_spell
    spell: curse_of_the_elements
    when:
      any:
        - not:
            debuff_active:
              debuff: curse_of_the_elements
        - debuff_active:
            debuff: curse_of_the_elements
            max_remaining: 30.0
  - action: cast_spell
    spell: life_tap
    when:
      any:
        - not:
            buff_active:
              buff: life_tap_buff
        - buff_active:
            buff: life_tap_buff
            max_remaining: ${life_tap_buff_refresh}
  - action: cast_spell
    spell: life_tap
    when:
      resource_percent:
        resource: mana
        lt: ${life_tap_threshold}
  - action: cast_spell
    spell: immolate
    when:
      any:
        - not:
            debuff_active:
              debuff: immolate
        
  - action: cast_spell
    spell: conflagrate
    when:
      all:
        - debuff_active:
            debuff: immolate
        - cooldown_ready:
            spell: conflagrate
  
  - action: cast_spell
    spell: chaos_bolt
    when:
      cooldown_ready:
        spell: chaos_bolt
  - action: cast_spell
    spell: incinerate
    when: true
